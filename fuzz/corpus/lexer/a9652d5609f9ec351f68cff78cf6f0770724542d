// JSON Tools - Parse and manipulate JSON data
// Demonstrates typed functions with Result types

struct JsonValue {
   raw: string,
    parsed: bool
}

@tool(description: "Parse JSON string safely")
fn parse_json_safe(str: string) -> Result<map<string, any>, string> {
    return json.parse(str)
}

json_get_path(data: map<string, any>, path: [string]) -> Option<any> {
    let current: any = data
    for key in path {
        if current == nil {
            return none
        }
    nt = current[key]
    }
    if current == nil {
 